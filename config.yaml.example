# =============================================================================
# Soccer Analytics Pipeline - Central Configuration
# =============================================================================
# Copy this file to config.yaml and fill in your API key.
# =============================================================================

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------
api:
  key: "YOUR_API_FOOTBALL_KEY_HERE"  # Get from https://www.api-football.com/
  requests_per_minute: 300.0
  max_player_pages: 3          # Free plan limit
  use_squads_fallback: true
  request_timeout: 45

# -----------------------------------------------------------------------------
# Downloader Settings
# -----------------------------------------------------------------------------
downloader:
  verbose: true
  debug: false
  max_api_calls_per_run: 1000000000

  # Transfer settings
  fetch_transfers: true
  transfers_only_most_recent: true
  refresh_transfers: false

  # Auto-analysis after download
  auto_analyze: true

# -----------------------------------------------------------------------------
# Analysis Settings
# -----------------------------------------------------------------------------
analysis:
  # Regression alphas
  lasso_alphas: [0.001]
  ridge_alphas: [10.0]

  # Alpha selection
  auto_select_lasso_alpha: true
  select_alpha_by: "ic"           # "ic" or "none"
  info_criterion: "AIC"           # AIC, AICc, BIC, HQ
  ic_alpha_bounds: [0.000001, 10.0]
  ic_tol: 0.01
  ic_max_iter: 60

  # Behavior
  keep_player_after_red: false
  save_intermediate: false

# -----------------------------------------------------------------------------
# Visualization Settings
# -----------------------------------------------------------------------------
visualization:
  # Default data selection
  strategy: "single_season"       # single_season, multi_league, multi_season, player_career
  country: "Germany"
  league: "Bundesliga"
  season: 2023

  # Filters
  min_fte: 5.0
  position_filter: null           # null or "Attacker", "Midfielder", etc.

  # Output
  output_dir: "output"
  output_prefix: "visualization"
  dpi: 150

  # Preferred contribution column
  preferred_contrib_col: "contribution_ols"

# -----------------------------------------------------------------------------
# File Paths (relative to Soccer/)
# -----------------------------------------------------------------------------
paths:
  data_dir: "data"                # Directory containing country_league folders
  download_queue: "download_queue.csv"
  profiles_db: "player_profiles.db"
  analysis_db: "analysis_results.db"
  log_dir: "logs"
  log_file: "football_fetcher.log"

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
logging:
  level: "INFO"                   # DEBUG, INFO, WARNING, ERROR
  format: "%(asctime)s [%(levelname)s] %(message)s"
